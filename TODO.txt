TODO
####

Application
===========

[ ] 433 MHz weather station receiver
    [X] Use 433 MHz SX1275 (LoRa chip)
    [X] Remove unwanted decoders from RTL-433 to speed it up
    [ ] Use macros (or something) to simplify LVGL UI definition
    [ ] NO: Send data to Thingsboard (MQTT publish): it was quite unreliable
    [X] Send data to Thingsboard (HTTP post)
    [ ] Send data to WoW (HTTP post)
    [ ] Send data to OpenWeatherMap (HTTP post)

[ ] Arlec switch/power-monitor
[ ] Garage door controller

UI
==
[ ] UI framework: LVGL or ESPHome basic

[ ] Font selection
    [ ] M5Stick C
    [ ] M5Stack or similar


ESPHome
=======

[X] Move secrets into secrets file

[ ] Database of other device-specific; Keepass will work, but means the secret storage is used for non-secret stuff
    [ ] Needs a nice front-end
    [ ] Raw database viewer-editor
    [ ] Application-specific editor
    [ ] SQLite database, with a nice viewer-editor
    [ ] In the yaml file

[ ] Bunch of scripts to build a thing. I use two or three recipes -- Makefile
    [X] Run - compile, deploy and log
    [X] Log only
    [X] Compile only
    [X] Inject git version number into build
    [X] Create secrets in keepass database if they don't exist
    [X] Read secrets from keepass database if they do
    [X] Store per-device details in device yaml file
    [ ] Find a better way than yq to extract DEVICE_UART from yaml file
    [ ] secrets.yaml is overwritten for each device---this shared file prevents building multiple device in parallel
    [ ] Can we !include device-specific secrets file in secrets.yaml? 
    
[ ] Find out how to modularise the configuration
    [X] Fixed values
    [ ] Substitutable (parameterised) values
    [ ] Move automations away from the place where (eg.) the buttons are defined
    [ ] Repeated (parameterised) sections for (eg.) UI grids
    [ ] Separate out
        [ ] Hardware description
        [ ] Application functionality
        [ ] Individual device details (name, id, keys, etc)

[ ] LVGL UI design
    [X] Right-align values
    [ ] Parameter display row

[X] Use display to show Home Assistant data, rather than (or as well as) ESPHome internals
[X] Rate filters to calculate 1-hour and 24-hour rainfall from cumulative rainfall

[ ] OTA
    [X] Test it
    [ ] Find out how to restrict what can be uploaded
        [ ] Hardware models
        [ ] Applications allowed on the device


ESP32 devices
=============

[ ] M5Stick-C
    [X] Higher download speed: M5Stick-C supports 500 MHz
        [X] and 750 MHz

    [X] Find and set display configuration

    [X] Choose a few suitable fonts
        [X] Standard text, normal: 75dpi/helvR10.bdf
        [X] Standard text, bold: 75dpi/helvB10.bdf
        [X] Header text, bold: 75dpi/helvB12.bdf
        [X] Small text: 75dpi/helvR08.bdf

    [X] Create an example diagnostics page
    [ ] Use MIPI SPI display driver rather than ST7735

[ ] M5Stack Core Basic
    [X] Basic config
    [X] Display config
    [X] Buttons
    [X] Fonts
    [X] Backlight seems a bit dim -- probably a hardware problem

[X] M5Knob

[ ] CB2S (Arlec switch/power-meter)

[ ]


Sensor hardware devices
=======================

[X] LoRa 433 MHz module
[ ] GNSS module
[ ] BMP180 module
[X] LPS25HW module
[X] OOK decoder
[X] RTL_433 decoder

